(window.webpackJsonpfilemanager=window.webpackJsonpfilemanager||[]).push([[0],{203:function(e){e.exports=JSON.parse('{"en":{"translation":{"file_manager":"File Manager","type":"Type","name":"Name","size":"Size","modified":"Modified","permissions":"Permissions","owner":"Owner","group":"Group","dir":"dir","file":"file","upload":"Upload","upload_files":"Upload files","files_upload_success":"Files uploaded successfully","files_upload_fail":"Files uploading failed","ok":"Ok","cancel":"Cancel","new_folder":"New folder","new_folder_success":"Folder created successfully","new_folder_fail":"Folder creating failed","apply":"Apply","reset":"Reset","filter_name":"Filter Name","filter_size":"Filter Size","filter_modified":"Filter Modified","filter_permissions":"Filter Permissions","filter_owner":"Filter Owner","filter_group":"Filter Group","all_data":"Select All","no_data":"Unselect All","invert_data":"Invert Selection"}}}')},204:function(e){e.exports=JSON.parse('{"uk":{"translation":{"file_manager":"\u0424\u0430\u0439\u043b \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","type":"\u0422\u0438\u043f","name":"\u041d\u0430\u0437\u0432\u0430","size":"\u0420\u043e\u0437\u043c\u0456\u0440","modified":"\u0417\u043c\u0456\u043d\u0435\u043d\u043e","permissions":"\u0414\u043e\u0437\u0432\u043e\u043b\u0438","owner":"\u0412\u043b\u0430\u0441\u043d\u0438\u043a","group":"\u0413\u0440\u0443\u043f\u0430","dir":"\u043f\u0430\u043f\u043a\u0430","file":"\u0444\u0430\u0439\u043b","upload":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438","upload_files":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u0430\u0439\u043b\u0438","files_upload_success":"\u0424\u0430\u0439\u043b\u0438 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","files_upload_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432","ok":"\u0413\u0430\u0440\u0430\u0437\u0434","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0430","new_folder":"\u041d\u043e\u0432\u0430 \u043f\u0430\u043f\u043a\u0430","new_folder_success":"\u041f\u0430\u043f\u043a\u0443 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","new_folder_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0430\u043f\u043a\u0438","apply":"\u0417\u0430\u0434\u0456\u044f\u0442\u0438","reset":"\u0421\u043a\u0438\u043d\u0443\u0442\u0438","filter_name":"\u0424\u0456\u043b\u044c\u0442\u0440 \u041d\u0430\u0437\u0432\u0438","filter_size":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0420\u043e\u0437\u043c\u0456\u0440\u0443","filter_modified":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0417\u043c\u0456\u043d\u0438","filter_permissions":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0414\u043e\u0437\u0432\u043e\u043b\u0456\u0432","filter_owner":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0412\u043b\u0430\u0441\u043d\u0438\u043a\u0430","filter_group":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0413\u0440\u0443\u043f\u0438","all_data":"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0412\u0441\u0435","no_data":"\u0417\u043d\u044f\u0442\u0438 \u0412\u0438\u0431\u0456\u0440","invert_data":"\u0406\u043d\u0432\u0435\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0412\u0438\u0431\u0456\u0440"}}}')},222:function(e,t,a){e.exports=a(434)},227:function(e,t,a){},429:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),o=(a(227),a(22)),c=a(435),s=a(14),u=a(445),d=a(446),f=a(217),m=a(218),p=(a(228),a(229),a(11)),g=a(12),y=a.n(g),h=a(203),w=a(204);var v=a(207),E=a(5),b=a(439),_=a(33),k=a(105),O=a(441),C=a(436),j=a(437),S=a(205),F=a.n(S).a.create({baseURL:"//filemanager.com"});function x(e){var t=new URLSearchParams;return Object.keys(e).forEach(function(a){t.append(a,e[a])}),t}var z={tree:function(){return F.get("/api/tree")},dir:function(e){return F.post("/api/dir",x(e))},upload:function(e,t){var a=function(e){var t=new FormData;return e.forEach(function(e){t.append("files[]",e)}),t}(e);return a.append("path",t),F.post("/api/upload",a)},newfolder:function(e){return F.post("/api/newfolder",x(e))}},D=a(94),R=a(206);function K(e,t){Object(n.useEffect)(e,function(e){var t=Object(n.useRef)();return Object(R.isEqual)(e,t.current)||(t.current=e),t.current}(t))}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var N=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(D.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{},t)};function L(e){var t=e.request,a=e.payload,r=Object(n.useReducer)(N,{loading:!0,error:null,data:null,total:0}),l=Object(o.a)(r,2),i=l[0],c=l[1];return K(function(){c({loading:!0,error:null}),t(a).then(function(e){var t=e.data;if("ok"===t.status){var a=t.data,n=t.total?t.total:a.length;c({loading:!1,data:a,total:n})}else c({loading:!1,error:t.msg?t.msg:"Unknown error",data:null,total:0})}).catch(function(e){c({loading:!1,error:e.message,data:null,total:0})})},[t,a]),i}function U(e){var t=e.path,a=e.refresh,l=Object(n.createRef)(),i=Object(n.createRef)(),c=Object(n.createRef)(),s=Object(n.createRef)(),u=Object(n.createRef)(),d=Object(n.useState)("gt"),f=Object(o.a)(d,2),m=f[0],g=f[1],h=Object(n.useState)("gt"),w=Object(o.a)(h,2),S=w[0],F=w[1],x=Object(n.useState)([]),D=Object(o.a)(x,2),R=D[0],K=D[1],P=L({request:z.dir,payload:{path:t,refresh:a}});if(P.loading)return r.a.createElement(v.a,{size:"large",style:{position:"relative",top:"45%",left:"50%"}});if(P.error)return console.log("Error: ".concat(P.error)),r.a.createElement(E.a,{type:"warning",style:{fontSize:"1.6em",color:"red",position:"relative",top:25,left:25}});var N={selectedRowKeys:R,onChange:function(e){K(e)},hideDefaultSelections:!0,selections:[{key:"all-data",text:p.a.t("all_data"),onSelect:function(e){K(e)}},{key:"no-data",text:p.a.t("no_data"),onSelect:function(){K([])}},{key:"invert-data",text:p.a.t("invert_data"),onSelect:function(e){K(e.filter(function(e){return!R.includes(e)}))}}],columnWidth:50},U=[{title:p.a.t("type"),dataIndex:"type",key:"type",sorter:function(e,t){var a=["d","f"];return a.indexOf(e.type)-a.indexOf(t.type)},filters:[{text:p.a.t("dir"),value:"d"},{text:p.a.t("file"),value:"f"}],onFilter:function(e,t){return 0===t.type.indexOf(e)},filterMultiple:!1,render:function(e){var t="";switch(e){case"d":t=r.a.createElement(E.a,{type:"folder"});break;case"f":t=r.a.createElement(E.a,{type:"file"});break;default:t=r.a.createElement("span",null,"value")}return t},width:90},{title:p.a.t("name"),dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){l=e},placeholder:p.a.t("filter_name"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:i,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.name.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return l.select()})},width:230},{title:p.a.t("size"),dataIndex:"size",key:"size",sorter:function(e,t){return e.size-t.size},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(k.a.Group,{value:m,onChange:function(e){return g(e.target.value)},style:{marginBottom:8}},r.a.createElement(k.a,{value:"gt"},">"),r.a.createElement(k.a,{value:"lt"},"<")),r.a.createElement(O.a,{ref:function(e){i=e},placeholder:p.a.t("filter_size"),value:a[0],min:0,onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===m?t.size<e:t.size>e},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return i.focus()})},width:120},{title:p.a.t("modified"),dataIndex:"modified",key:"modified",sorter:function(e,t){return e.modified-t.modified},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(k.a.Group,{value:S,onChange:function(e){return F(e.target.value)},style:{marginBottom:8}},r.a.createElement(k.a,{value:"gt"},">"),r.a.createElement(k.a,{value:"lt"},"<")),r.a.createElement(C.a,{showTime:!0,placeholder:p.a.t("filter_modified"),value:a[0],onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===S?t.modified<e.unix():t.modified>e.unix()},render:function(e){return y.a.unix(e).format("LLL")},width:240},{title:p.a.t("permissions"),dataIndex:"permissions",key:"permissions",sorter:function(e,t){return e.permissions.localeCompare(t.permissions)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){c=e},placeholder:p.a.t("filter_permissions"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.permissions.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return c.select()})},width:140},{title:p.a.t("owner"),dataIndex:"owner",key:"owner",sorter:function(e,t){return e.owner.localeCompare(t.owner)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){s=e},placeholder:p.a.t("filter_owner"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.owner.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return s.select()})},width:140},{title:p.a.t("group"),dataIndex:"group",key:"group",sorter:function(e,t){return e.group.localeCompare(t.group)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){u=e},placeholder:p.a.t("filter_group"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(_.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(_.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.group.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return u.select()})},width:140}];return r.a.createElement(j.a,{dataSource:P.data,columns:U,rowKey:"name",scroll:{y:"calc(100vh - 240px)",x:!0},size:"middle",rowSelection:N})}var I=a(444);function T(e){var t=e.onSelect,a=e.selectedKeys,n=e.refresh,l=L({request:z.tree,payload:{refresh:n}});return l.loading?r.a.createElement(v.a,{style:{position:"relative",top:"40%",left:"45%"}}):l.error?(console.log("Error: ".concat(l.error)),r.a.createElement(E.a,{type:"warning",style:{fontSize:"1.4em",color:"red",position:"relative",top:15,left:15}})):r.a.createElement(I.a,{treeData:[l.data],onSelect:t,selectedKeys:a,defaultExpandAll:!0})}var B=a(443);function V(e){var t=e.path,a=e.onClick,n=t.split("/");n.unshift("");return r.a.createElement(B.a,{className:"breadcrumb"},function(e){var t="";return e.map(function(e,n){var l=t+="".concat(e,"/");return 0===n?r.a.createElement(B.a.Item,{key:t,onClick:function(){return a(l)}},r.a.createElement(E.a,{type:"home"})):r.a.createElement(B.a.Item,{key:t,onClick:function(){return a(l)}},e)})}(n))}var q=a(107),A=a(442),G=a(440),J=a(438);function M(e){var t=e.path,a=e.onUploadFinished,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),f=d[0],m=d[1],g=Object(n.useState)(!1),y=Object(o.a)(g,2),h=y[0],w=y[1],v=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{type:"primary",icon:"upload",onClick:function(){s(!0)}},p.a.t("upload")),r.a.createElement(G.a,{title:p.a.t("upload_files"),visible:c,onOk:function(){return 0!==f.length&&(w(!0),z.upload(f,t).then(function(e){var t=e.data;if("ok"===t.status){var n=t.data,l=n.uploaded.map(function(e){return r.a.createElement("li",{key:e.name},e.name)});0!==l.length&&A.a.success({message:p.a.t("files_upload_success"),description:r.a.createElement("ul",null,l)});var i=n.failed.map(function(e){return r.a.createElement("li",{key:e.name},"".concat(e.name,": ").concat(e.errors[0].message))});0!==i.length&&A.a.error({message:p.a.t("files_upload_fail"),description:r.a.createElement("ul",null,i)}),a(),m([]),v()}else{var o=t.msg||"Unknown error";A.a.error({message:p.a.t("files_upload_fail"),description:o})}w(!1)}).catch(function(e){A.a.error({message:p.a.t("files_upload_fail"),description:e.message}),w(!1)}),!0)},onCancel:function(){m([]),v()},okText:h?r.a.createElement(E.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(J.a,{fileList:f,beforeUpload:function(e){return m([].concat(Object(q.a)(f),[e])),!1},onRemove:function(e){var t=f.indexOf(e),a=f.slice();a.splice(t,1),m(a)}},r.a.createElement(_.a,null,r.a.createElement(E.a,{type:"upload"}),"Upload"))))}function $(e){var t=e.path,a=e.onFolderCreated,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),f=d[0],m=d[1],g=Object(n.useState)(!1),y=Object(o.a)(g,2),h=y[0],w=y[1],v=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{type:"primary",icon:"folder-add",onClick:function(){s(!0)}},p.a.t("new_folder")),r.a.createElement(G.a,{title:p.a.t("new_folder"),visible:c,onOk:function(){return""!==f&&(w(!0),z.newfolder({path:t,folderName:f}).then(function(e){var t=e.data;if("ok"===t.status){var n=t.data;A.a.success({message:p.a.t("new_folder_success"),description:r.a.createElement("p",null,n.folderName)}),a(),m(""),v()}else{var l=t.msg||"Unknown error";A.a.error({message:p.a.t("new_folder_fail"),description:l})}w(!1)}).catch(function(e){A.a.error({message:p.a.t("new_folder_fail"),description:e.message}),w(!1)}),!0)},onCancel:function(){m(""),v()},okText:h?r.a.createElement(E.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(b.a,{placeholder:"Folder name",value:f,onChange:function(e){m(e.target.value)}})))}a(429);var H=c.a.Header,W=c.a.Footer,Q=c.a.Sider,X=c.a.Content;var Y=function(){var e,t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],i=a[1],g=Object(n.useState)("/"),v=Object(o.a)(g,2),E=v[0],b=v[1],_=Object(n.useState)(y()().unix()),k=Object(o.a)(_,2),O=k[0],C=k[1],j=function(e,t){var a=window.location.pathname.slice(1,3);return void 0===e[a]&&(a=t),p.a.init({lng:a,resources:e[a]}),a}({en:h,uk:w},"en");switch(y.a.locale(j),j){case"uk":e=m.a;break;case"en":default:e=f.a}return r.a.createElement(s.a,{locale:e},r.a.createElement("div",{className:"app"},r.a.createElement(c.a,{className:"layout"},r.a.createElement(H,{className:"header"},r.a.createElement(u.a,null,r.a.createElement(d.a,{span:4},p.a.t("file_manager")),r.a.createElement(d.a,{span:14},r.a.createElement(V,{path:l,onClick:function(e){b(e);var t=e.replace(/^\/+|\/+$/g,"");i(t)}})),r.a.createElement(d.a,{className:"pull-right",span:3},r.a.createElement(M,{path:l,onUploadFinished:function(){C(y()().unix())}})),r.a.createElement(d.a,{className:"pull-right",span:3},r.a.createElement($,{path:l,onFolderCreated:function(){C(y()().unix())}})))),r.a.createElement(c.a,null,r.a.createElement(Q,{className:"sider"},r.a.createElement(T,{onSelect:function(e){var t=e.shift();b(t),t=t.replace(/^\/+|\/+$/g,""),i(t)},selectedKeys:[E],refresh:O})),r.a.createElement(c.a,null,r.a.createElement(X,{className:"content"},r.a.createElement(U,{path:l,refresh:O})),r.a.createElement(W,{className:"footer"},"Footer"))))))};i.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.6f1197b0.chunk.js.map