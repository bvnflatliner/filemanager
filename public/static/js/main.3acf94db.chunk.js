(window.webpackJsonpfilemanager=window.webpackJsonpfilemanager||[]).push([[0],{202:function(e){e.exports=JSON.parse('{"en":{"translation":{"file_manager":"File Manager","type":"Type","name":"Name","size":"Size","modified":"Modified","permissions":"Permissions","owner":"Owner","group":"Group","dir":"dir","file":"file","upload":"Upload","upload_files":"Upload files","files_upload_success":"Files uploaded successfully","files_upload_fail":"Files uploading failed","ok":"Ok","cancel":"Cancel","yes":"Yes","no":"No","new_folder":"New folder","folder_name":"Folder Name","new_folder_success":"Folder created successfully","new_folder_fail":"Folder creating failed","apply":"Apply","reset":"Reset","filter_name":"Filter Name","filter_size":"Filter Size","filter_modified":"Filter Modified","filter_permissions":"Filter Permissions","filter_owner":"Filter Owner","filter_group":"Filter Group","all_data":"Select All","no_data":"Unselect All","invert_data":"Invert Selection","unknown_file_format":"Unknown file format","unknown_error":"Unknown error","view_failed":"View failed","view_":"View ","binary_file":"Binary file","direct_link_for_":"Direct link for ","get_direct_link":"Get direct link","refresh":"Refresh","copy":"Copy","copy_destination":"Copy destination","copy_fail":"Copy failed","copied_successful":"Copied successful","copied":"Copied ","_files":" files","dirs_failed":"Dir(s) failed:","files_failed":"File(s) failed:","rename":"Rename","renamed_successful":"Ranamed successful","file_renamed_successful":"File renamed successful","rename_fail":"Rename failed","save_changed":"Save changes?","delete":"Delete","confirm_deletion":"Confirm deletion","are_you_sure_to_delete_":"Are you sure to delete ","_files_dirs":" file(s) or dir(s) with contents","deleted_successful":"Deleted successful","_files_dirs_deleted_successful":" file(s) or dir(s) deleted successful","delete_fail":"Delete failed","total_":"Total ","_items":" items"}}}')},203:function(e){e.exports=JSON.parse('{"uk":{"translation":{"file_manager":"\u0424\u0430\u0439\u043b \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","type":"\u0422\u0438\u043f","name":"\u041d\u0430\u0437\u0432\u0430","size":"\u0420\u043e\u0437\u043c\u0456\u0440","modified":"\u0417\u043c\u0456\u043d\u0435\u043d\u043e","permissions":"\u0414\u043e\u0437\u0432\u043e\u043b\u0438","owner":"\u0412\u043b\u0430\u0441\u043d\u0438\u043a","group":"\u0413\u0440\u0443\u043f\u0430","dir":"\u043f\u0430\u043f\u043a\u0430","file":"\u0444\u0430\u0439\u043b","upload":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438","upload_files":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u0430\u0439\u043b\u0438","files_upload_success":"\u0424\u0430\u0439\u043b\u0438 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","files_upload_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432","ok":"\u0413\u0430\u0440\u0430\u0437\u0434","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0430","yes":"\u0422\u0430\u043a","no":"\u041d\u0456","new_folder":"\u041d\u043e\u0432\u0430 \u043f\u0430\u043f\u043a\u0430","folder_name":"\u041d\u0430\u0437\u0432\u0430 \u041f\u0430\u043f\u043a\u0438","new_folder_success":"\u041f\u0430\u043f\u043a\u0443 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","new_folder_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0430\u043f\u043a\u0438","apply":"\u0417\u0430\u0434\u0456\u044f\u0442\u0438","reset":"\u0421\u043a\u0438\u043d\u0443\u0442\u0438","filter_name":"\u0424\u0456\u043b\u044c\u0442\u0440 \u041d\u0430\u0437\u0432\u0438","filter_size":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0420\u043e\u0437\u043c\u0456\u0440\u0443","filter_modified":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0417\u043c\u0456\u043d\u0438","filter_permissions":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0414\u043e\u0437\u0432\u043e\u043b\u0456\u0432","filter_owner":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0412\u043b\u0430\u0441\u043d\u0438\u043a\u0430","filter_group":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0413\u0440\u0443\u043f\u0438","all_data":"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0412\u0441\u0435","no_data":"\u0417\u043d\u044f\u0442\u0438 \u0412\u0438\u0431\u0456\u0440","invert_data":"\u0406\u043d\u0432\u0435\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0412\u0438\u0431\u0456\u0440","unknown_file_format":"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0443","unknown_error":"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430","view_failed":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u043d\u0435\u0432\u0434\u0430\u0432\u0441\u044f","view_":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 ","binary_file":"\u0414\u0432\u0456\u0439\u043a\u043e\u0432\u0438\u0439 \u0444\u0430\u0439\u043b","direct_link_for_":"\u041f\u0440\u044f\u043c\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0434\u043b\u044f ","get_direct_link":"\u041f\u0440\u044f\u043c\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","refresh":"\u041e\u043d\u043e\u0432\u0438\u0442\u0438","copy":"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438","copy_destination":"\u041a\u0443\u0434\u0438 \u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438","copy_fail":"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f","copied_successful":"\u0417\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e \u0432\u0434\u0430\u043b\u043e","copied":"\u0417\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e ","_files":" \u0444\u0430\u0439\u043b\u0456\u0432","dirs_failed":"\u041d\u0435\u0432\u0434\u0430\u043b\u0456 \u043f\u0430\u043f\u043a\u0438:","files_failed":"\u041d\u0435\u0432\u0434\u0430\u043b\u0456 \u0444\u0430\u0439\u043b\u0438:","rename":"\u041f\u0435\u0440\u0435\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u0442\u0438","renamed_successful":"\u041f\u0435\u0440\u0435\u0439\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043e \u0432\u0434\u0430\u043b\u043e","file_renamed_successful":"\u0424\u0430\u0439\u043b \u0431\u0443\u043b\u043e \u043f\u0435\u0440\u0435\u0439\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043e","rename_fail":"\u041f\u0435\u0440\u0435\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f","save_changed":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438?","delete":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438","confirm_deletion":"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f","are_you_sure_to_delete_":"\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ","_files_dirs":" \u0444\u0430\u0439\u043b(\u0456\u0432) \u0430\u0431\u043e \u043f\u0430\u043f\u043a\u0430(\u043e\u043a) \u0437\u0456 \u0437\u043c\u0456\u0441\u0442\u043e\u043c","deleted_successful":"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043e \u0432\u0434\u0430\u043b\u043e","_files_dirs_deleted_successful":" \u0444\u0430\u0439\u043b(\u0456\u0432) \u0430\u0431\u043e \u043f\u0430\u043f\u043a\u0430(\u043e\u043a) \u0431\u0443\u043b\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e","delete_fail":"\u0412\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f","total_":"\u0423\u0441\u044c\u043e\u0433\u043e ","_items":" \u0448\u0442\u0443\u043a"}}}')},221:function(e,t,a){e.exports=a(433)},226:function(e,t,a){},305:function(e,t,a){},428:function(e,t,a){},433:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(10),i=a.n(l),o=(a(226),a(21)),c=a(435),s=a(15),u=a(446),d=a(447),f=a(215),m=a(216),p=(a(227),a(228),a(5)),_=a(13),y=a.n(_),g=a(202),E=a(203);var h=a(440),v=a(210),k=a(8),w=a(443),b=a(37),C=a(111),O=a(442),j=a(437),x=a(441),S=a(436),F=a(434),R=a(204),z=a.n(R).a.create({baseURL:"//filemanager.loc"});function D(e){var t=new URLSearchParams;return Object.keys(e).forEach((function(a){t.append(a,e[a])})),t}var L={tree:function(){return z.get("/api/tree")},dir:function(e){return z.post("/api/dir",D(e))},upload:function(e,t){var a=function(e){var t=new FormData;return e.forEach((function(e){t.append("files[]",e)})),t}(e);return a.append("path",t),z.post("/api/upload",a)},newfolder:function(e){return z.get("/api/newfolder",{params:e})},file:function(e){return z.get("/api/file",{params:e})},copy:function(e){return z.post("/api/copy",D(e))},rename:function(e){return z.post("/api/rename",D(e))},delete:function(e){return z.post("/api/delete",D(e))}};function T(e){var t=e.initialValue,a=e.setEditRowName,l=e.path,i=e.record,c=e.onRefresh,s=Object(n.useState)(t),u=Object(o.a)(s,2),d=u[0],f=u[1],m=Object(n.useState)(!1),_=Object(o.a)(m,2),y=_[0],g=_[1];return r.a.createElement(F.a,{content:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onMouseDown:function(){""!==d?L.rename({path:l,oldname:t,newname:d}).then((function(e){var t=e.data;if("ok"===t.status)w.a.success({message:p.a.t("renamed_successful"),description:r.a.createElement("p",null,p.a.t("file_renamed_successful"))}),i.name=d,c();else{var a=t.msg||p.a.t("unknown_error");w.a.error({message:p.a.t("rename_fail"),description:a})}})).catch((function(e){w.a.error({message:p.a.t("rename_fail"),description:e.message})})):a(t)}},p.a.t("ok")),r.a.createElement(b.a,null,p.a.t("cancel"))),title:p.a.t("save_changed"),trigger:"focus",visible:y},r.a.createElement(h.a,{value:d,onClick:function(e){e.stopPropagation()},onChange:function(e){g(e.target.value!==t),f(e.target.value)},onBlur:function(){a()},autoFocus:!0}))}var K=a(78);function N(e){var t=e.record,a=e.visible,n=e.x,l=e.y,i=e.onCopyClick,o=e.onRenameClick,c=e.onDeleteClick;if(!a)return r.a.createElement("div",null);var s=r.a.createElement(K.a,null,"f"===t.type&&r.a.createElement(K.a.Item,{key:"getLink",onClick:function(){x.a.info({icon:null,title:p.a.t("direct_link_for_")+t.name,content:r.a.createElement(h.a,{value:t.direct_link,readOnly:!0})})}},r.a.createElement(k.a,{type:"link"}),p.a.t("get_direct_link")),r.a.createElement(K.a.Item,{key:"copy",onClick:function(){return i(t)}},r.a.createElement(k.a,{type:"copy"}),p.a.t("copy")),r.a.createElement(K.a.Item,{key:"rename",onClick:function(){return o(t)}},r.a.createElement(k.a,{type:"edit"}),p.a.t("rename")),r.a.createElement(K.a.Item,{key:"delete",onClick:function(){return c(t)}},r.a.createElement(k.a,{type:"delete"}),p.a.t("delete")));return r.a.createElement("div",{style:{left:"".concat(n,"px"),top:"".concat(l,"px"),position:"absolute"}},s)}function I(e){var t=e.visible,a=e.onClickRefresh,n=e.onClickCopy,l=e.onClickDelete;return r.a.createElement("div",{style:{position:"fixed",left:210}},r.a.createElement(b.a,{size:"small",onClick:a,title:p.a.t("refresh")},r.a.createElement(k.a,{type:"reload"})),t&&r.a.createElement(b.a,{size:"small",onClick:n,title:p.a.t("copy"),style:{marginLeft:5}},r.a.createElement(k.a,{type:"copy"})),t&&r.a.createElement(b.a,{size:"small",onClick:l,title:p.a.t("delete"),style:{marginLeft:5}},r.a.createElement(k.a,{type:"delete"})))}var B=a(438),U=a(150),P=a(209);function V(e,t){Object(n.useEffect)(e,function(e){var t=Object(n.useRef)();return Object(P.isEqual)(e,t.current)||(t.current=e),t.current}(t))}var A=function(e,t){return Object(U.a)(Object(U.a)({},e),t)};function M(e){var t=e.request,a=e.payload,r=Object(n.useReducer)(A,{loading:!0,error:null,data:null,total:0}),l=Object(o.a)(r,2),i=l[0],c=l[1];return V((function(){c({loading:!0,error:null}),t(a).then((function(e){var t=e.data;if("ok"===t.status){var a=t.data,n=t.total?t.total:a.length;c({loading:!1,data:a,total:n})}else c({loading:!1,error:t.msg?t.msg:"Unknown error",data:null,total:0})})).catch((function(e){c({loading:!1,error:e.message,data:null,total:0})}))}),[t,a]),i}function q(e){var t=e.visible,a=e.doCopy,l=e.hide,i=e.refresh,c=Object(n.useState)(""),s=Object(o.a)(c,2),u=s[0],d=s[1],f=M({request:L.tree,payload:{refresh:i}});if(f.loading)return null;if(f.error)return console.log("Error: ".concat(f.error)),null;return r.a.createElement(x.a,{title:p.a.t("copy_destination"),visible:t,onOk:function(){a(u),d(""),l()},onCancel:function(){d(""),l()}},r.a.createElement(B.a,{value:u,treeData:[f.data],onSelect:function(e){d(e)},treeDefaultExpandAll:!0,dropdownStyle:{height:300},style:{width:400}}))}function G(e){var t=e.visible,a=e.count,n=e.doDelete,l=e.hide;return r.a.createElement(x.a,{title:p.a.t("confirm_deletion"),visible:t,okText:p.a.t("yes"),okType:"danger",cancelText:p.a.t("no"),onOk:function(){n(),l()},onCancel:l},r.a.createElement("p",null,p.a.t("are_you_sure_to_delete_")+a+p.a.t("_files_dirs")+"?"))}a(305);var J=h.a.TextArea;function H(e){var t=e.path,a=e.refresh,l=e.onRefreshBoth,i=(e.onRefreshTree,e.onClick),c=Object(n.createRef)(),s=Object(n.createRef)(),u=Object(n.createRef)(),d=Object(n.createRef)(),f=Object(n.createRef)(),m=Object(n.useState)("gt"),_=Object(o.a)(m,2),g=_[0],E=_[1],F=Object(n.useState)("gt"),R=Object(o.a)(F,2),z=R[0],D=R[1],K=Object(n.useState)([]),B=Object(o.a)(K,2),U=B[0],P=B[1],V=Object(n.useState)({visible:!1,x:0,y:0}),A=Object(o.a)(V,2),H=A[0],W=A[1],Y=Object(n.useState)(!1),$=Object(o.a)(Y,2),X=$[0],Q=$[1],Z=Object(n.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(),re=Object(o.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)(),ce=Object(o.a)(oe,2),se=ce[0],ue=ce[1],de=M({request:L.dir,payload:{path:t,refresh:a}}),fe=function(){Q(!0)},me=function(){ae(!0)};if(Object(n.useEffect)((function(){P([])}),[t]),de.loading)return r.a.createElement(v.a,{size:"large",style:{position:"relative",top:"45%",left:"50%"}});if(de.error)return console.log("Error: ".concat(de.error)),r.a.createElement(k.a,{type:"warning",style:{fontSize:"1.6em",color:"red",position:"relative",top:25,left:25}});var pe={selectedRowKeys:U,onChange:function(e){P(e)},hideDefaultSelections:!0,selections:[{key:"all-data",text:p.a.t("all_data"),onSelect:function(e){P(e)}},{key:"no-data",text:p.a.t("no_data"),onSelect:function(){P([])}},{key:"invert-data",text:p.a.t("invert_data"),onSelect:function(e){P(e.filter((function(e){return!U.includes(e)})))}}],columnWidth:50},_e=[{title:p.a.t("type"),dataIndex:"type",key:"type",sorter:function(e,t){var a=["d","f"];return a.indexOf(e.type)-a.indexOf(t.type)},filters:[{text:p.a.t("dir"),value:"d"},{text:p.a.t("file"),value:"f"}],onFilter:function(e,t){return 0===t.type.indexOf(e)},filterMultiple:!1,render:function(e){var t="";switch(e){case"d":t=r.a.createElement(k.a,{type:"folder"});break;case"f":t=r.a.createElement(k.a,{type:"file"});break;default:t=r.a.createElement("span",null,"value")}return t},width:90},{title:p.a.t("name"),dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){c=e},placeholder:p.a.t("filter_name"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.name.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return c.select()}))},shouldCellUpdate:function(e,t){return e.name!==t.name},render:function(e,a){return e===se?r.a.createElement(T,{initialValue:e,setEditRowName:ue,path:t,record:a,onRefresh:l}):r.a.createElement("span",null,e)},eidtable:!0,width:230},{title:p.a.t("size"),dataIndex:"size",key:"size",sorter:function(e,t){return e.size-t.size},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(C.a.Group,{value:g,onChange:function(e){return E(e.target.value)},style:{marginBottom:8}},r.a.createElement(C.a,{value:"gt"},">"),r.a.createElement(C.a,{value:"lt"},"<")),r.a.createElement(O.a,{ref:function(e){s=e},placeholder:p.a.t("filter_size"),value:a[0],min:0,onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===g?t.size<e:t.size>e},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return s.focus()}))},width:120},{title:p.a.t("modified"),dataIndex:"modified",key:"modified",sorter:function(e,t){return e.modified-t.modified},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(C.a.Group,{value:z,onChange:function(e){return D(e.target.value)},style:{marginBottom:8}},r.a.createElement(C.a,{value:"gt"},">"),r.a.createElement(C.a,{value:"lt"},"<")),r.a.createElement(j.a,{showTime:!0,placeholder:p.a.t("filter_modified"),value:a[0],onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===z?t.modified<e.unix():t.modified>e.unix()},render:function(e){return y.a.unix(e).format("LLL")},width:240},{title:p.a.t("permissions"),dataIndex:"permissions",key:"permissions",sorter:function(e,t){return e.permissions.localeCompare(t.permissions)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){u=e},placeholder:p.a.t("filter_permissions"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.permissions.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return u.select()}))},width:140},{title:p.a.t("owner"),dataIndex:"owner",key:"owner",sorter:function(e,t){return e.owner.localeCompare(t.owner)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){d=e},placeholder:p.a.t("filter_owner"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.owner.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return d.select()}))},width:140},{title:p.a.t("group"),dataIndex:"group",key:"group",sorter:function(e,t){return e.group.localeCompare(t.group)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){f=e},placeholder:p.a.t("filter_group"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.group.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return f.select()}))},width:140}],ye=H.record,ge=H.visible,Ee=H.x,he=H.y;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{dataSource:de.data,total:de.total,columns:_e,rowKey:"name",scroll:{y:"calc(100vh - 180px)",x:!0},size:"middle",rowSelection:pe,onRow:function(e){return{onClick:function(a){if(!a.target.classList.contains("ant-checkbox-input"))if("d"!==e.type){var n;switch(e.media_type){case"text":L.file({path:t,name:e.name}).then((function(t){var a=t.data;if("ok"===a.status){var l=a.data;n=r.a.createElement(J,{autoSize:{minRows:4,maxRows:16},value:l.content}),x.a.info({icon:null,width:"80%",title:p.a.t("view_")+e.name,content:n})}}));break;case"image":n=r.a.createElement("div",null,r.a.createElement("img",{src:e.direct_link,alt:e.name,style:{maxWidth:"100%",maxHeight:"100%"}}));break;case"audio":n=r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:e.direct_link}),r.a.createElement("track",{kind:"captions"}));break;case"video":n=r.a.createElement("video",{style:{maxWidth:"100%",maxHeight:"100%"},controls:!0},r.a.createElement("source",{src:e.direct_link,type:e.mime_type}),r.a.createElement("track",{kind:"captions"}));break;case"binary":n=r.a.createElement(b.a,{type:"dashed",block:!0},p.a.t("binary_file"));break;default:n=r.a.createElement(b.a,{type:"dashed",block:!0},p.a.t("unknown_file_format"))}n&&x.a.info({icon:null,width:"80%",title:p.a.t("view_")+e.name,content:n})}else i("".concat(t?"/".concat(t):"","/").concat(e.name,"/"))},onContextMenu:function(t){t.preventDefault(),H.visible||document.addEventListener("click",(function e(){W({visible:!1,x:0,y:0}),document.removeEventListener("click",e)})),W({record:e,visible:!0,x:t.clientX,y:t.clientY})}}},pagination:{showTotal:function(e){return r.a.createElement("div",null,r.a.createElement(I,{visible:U.length>0,onClickRefresh:l,onClickCopy:fe,onClickDelete:me}),p.a.t("total_")+e+p.a.t("_items"))}}}),r.a.createElement(N,{record:ye,visible:ge,x:Ee,y:he,onCopyClick:function(e){ie(e.name),Q(!0)},onRenameClick:function(e){ue(e.name)},onDeleteClick:function(e){ie(e.name),console.log(le),ae(!0)}}),r.a.createElement(q,{visible:X,doCopy:function(e){return L.copy({path:t,destination:e,files:le?[le]:U}).then((function(e){var t=e.data;if("ok"===t.status){var a=t.data,n=a.successful,i=a.errors.dirs.map((function(e){return r.a.createElement("li",{key:e},e)})),o=a.errors.files.map((function(e){return r.a.createElement("li",{key:e},e)}));w.a.success({message:p.a.t("copied_successful"),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("copied")+n+p.a.t("_files")),i.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("dirs_failed")),r.a.createElement("ul",null,i)),o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("files_failed")),r.a.createElement("ul",null,o)))}),setTimeout(l,5)}else{var c=t.msg||p.a.t("unknown_error");w.a.error({message:p.a.t("copy_fail"),description:c})}})).catch((function(e){w.a.error({message:p.a.t("copy_fail"),description:e.message})})),P([]),ie(),!0},hide:function(){ie(),Q(!1)},refresh:a}),r.a.createElement(G,{visible:te,count:(le?[le]:U).length,doDelete:function(){return L.delete({path:t,files:le?[le]:U}).then((function(e){var t=e.data,a=t.data.successful;if("ok"===t.status)w.a.success({message:p.a.t("deleted_successful"),description:r.a.createElement("p",null,a+p.a.t("_files_dirs_deleted_successful"))}),setTimeout(l,5);else{var n=t.msg||p.a.t("unknown_error");w.a.error({message:p.a.t("delete_fail"),description:n})}})).catch((function(e){w.a.error({message:p.a.t("delete_fail"),description:e.message})})),P([]),ie(),!0},hide:function(){ie(),ae(!1)}}))}var W=a(444);function Y(e){var t=e.onSelect,a=e.selectedKeys,n=e.refresh,l=M({request:L.tree,payload:{refresh:n}});return l.loading?r.a.createElement(v.a,{style:{position:"relative",top:"40%",left:"45%"}}):l.error?(console.log("Error: ".concat(l.error)),r.a.createElement(k.a,{type:"warning",style:{fontSize:"1.4em",color:"red",position:"relative",top:15,left:15}})):r.a.createElement(W.a,{treeData:[l.data],onSelect:t,selectedKeys:a,defaultExpandAll:!0})}var $=a(445);function X(e){var t=e.path,a=e.onClick,n=t.split("/");n.unshift("");return r.a.createElement($.a,{className:"breadcrumb"},function(e){var t="";return e.map((function(e,n){var l=t+="".concat(e,"/");return 0===n?r.a.createElement($.a.Item,{key:t,onClick:function(){return a(l)}},r.a.createElement(k.a,{type:"home"})):r.a.createElement($.a.Item,{key:t,onClick:function(){return a(l)}},e)}))}(n))}var Q=a(217),Z=a(439);function ee(e){var t=e.path,a=e.onUploadFinished,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),f=d[0],m=d[1],_=Object(n.useState)(!1),y=Object(o.a)(_,2),g=y[0],E=y[1],h=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"primary",icon:"upload",onClick:function(){s(!0)}},p.a.t("upload")),r.a.createElement(x.a,{title:p.a.t("upload_files"),visible:c,onOk:function(){return 0!==f.length&&(E(!0),L.upload(f,t).then((function(e){var t=e.data;if("ok"===t.status){var n=t.data,l=n.uploaded.map((function(e){return r.a.createElement("li",{key:e.name},e.name)}));0!==l.length&&w.a.success({message:p.a.t("files_upload_success"),description:r.a.createElement("ul",null,l)});var i=n.failed.map((function(e){return r.a.createElement("li",{key:e.name},"".concat(e.name,": ").concat(e.errors[0].message))}));0!==i.length&&w.a.error({message:p.a.t("files_upload_fail"),description:r.a.createElement("ul",null,i)}),a(),m([]),h()}else{var o=t.msg||p.a.t("unknown_error");w.a.error({message:p.a.t("files_upload_fail"),description:o})}E(!1)})).catch((function(e){w.a.error({message:p.a.t("files_upload_fail"),description:e.message}),E(!1)})),!0)},onCancel:function(){m([]),h()},okText:g?r.a.createElement(k.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(Z.a,{fileList:f,beforeUpload:function(e){return m([].concat(Object(Q.a)(f),[e])),!1},onRemove:function(e){var t=f.indexOf(e),a=f.slice();a.splice(t,1),m(a)}},r.a.createElement(b.a,null,r.a.createElement(k.a,{type:"upload"}),p.a.t("upload")))))}function te(e){var t=e.path,a=e.onFolderCreated,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),f=d[0],m=d[1],_=Object(n.useState)(!1),y=Object(o.a)(_,2),g=y[0],E=y[1],v=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"primary",icon:"folder-add",onClick:function(){s(!0)},style:{marginLeft:10}},p.a.t("new_folder")),r.a.createElement(x.a,{title:p.a.t("new_folder"),visible:c,onOk:function(){return""!==f&&(E(!0),L.newfolder({path:t,folder:f}).then((function(e){var t=e.data;if("ok"===t.status){var n=t.data;w.a.success({message:p.a.t("new_folder_success"),description:r.a.createElement("p",null,n.folder)}),a(),m(""),v()}else{var l=t.msg||p.a.t("unknown_error");w.a.error({message:p.a.t("new_folder_fail"),description:l})}E(!1)})).catch((function(e){w.a.error({message:p.a.t("new_folder_fail"),description:e.message}),E(!1)})),!0)},onCancel:function(){m(""),v()},okText:g?r.a.createElement(k.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(h.a,{placeholder:p.a.t("folder_name"),value:f,onChange:function(e){m(e.target.value)},autoFocus:!0})))}a(428);var ae=c.a.Header,ne=c.a.Sider,re=c.a.Content;var le=function(){var e,t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],i=a[1],_=Object(n.useState)("/"),h=Object(o.a)(_,2),v=h[0],k=h[1],w=Object(n.useState)(y()().unix()),b=Object(o.a)(w,2),C=b[0],O=b[1],j=Object(n.useState)(y()().unix()),x=Object(o.a)(j,2),S=x[0],F=x[1],R=function(e,t){var a=window.location.pathname.slice(1,3);return void 0===e[a]&&(a=t),p.a.init({lng:a,resources:e[a]}),a}({en:g,uk:E},"en");switch(y.a.locale(R),R){case"uk":e=m.a;break;case"en":default:e=f.a}var z=function(e){k(e);var t=e.replace(/^\/+|\/+$/g,"");i(t)},D=function(){O(y()().unix()),F(y()().unix())};return r.a.createElement(s.a,{locale:e},r.a.createElement("div",{className:"app"},r.a.createElement(c.a,{className:"layout"},r.a.createElement(ae,{className:"header"},r.a.createElement(u.a,null,r.a.createElement(d.a,{span:4},p.a.t("file_manager")),r.a.createElement(d.a,{span:14},r.a.createElement(X,{path:l,onClick:z})),r.a.createElement(d.a,{className:"pull-right",span:6},r.a.createElement(ee,{path:l,onUploadFinished:function(){D()}}),r.a.createElement(te,{path:l,onFolderCreated:function(){D()}})))),r.a.createElement(c.a,null,r.a.createElement(ne,{className:"sider"},r.a.createElement(Y,{onSelect:function(e){var t=e.shift();k(t),t=t.replace(/^\/+|\/+$/g,""),i(t)},selectedKeys:[v],refresh:S})),r.a.createElement(c.a,null,r.a.createElement(re,{className:"content"},r.a.createElement(H,{path:l,refresh:C,onRefreshBoth:D,onRefreshTree:F,onClick:z})))))))};i.a.render(r.a.createElement(le,null),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.3acf94db.chunk.js.map