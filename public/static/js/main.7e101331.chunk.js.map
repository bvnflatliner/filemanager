{"version":3,"sources":["api/api.js","hooks/use-request.js","App.js","index.js"],"names":["http","axios","create","baseURL","headers","api","test","get","reducer","oldState","newState","Object","objectSpread","App","_ref","request","payload","initialState","loading","error","data","total","JSON","stringify","_useReducer","useReducer","_useReducer2","slicedToArray","state","setState","useEffect","parse","then","response","responseData","status","length","catch","message","useRequest","react_default","a","createElement","console","log","className","ReactDOM","render","src_App","document","getElementById"],"mappings":"kOAEMA,SAAOC,EAAMC,OAAO,CACzBC,QAAS,oBACTC,QAAS,KAIGC,EAAM,CAElBC,KAFkB,WAGjB,OAAON,EAAKO,IAAI,+BCqClB,SAASC,EAAQC,EAAUC,GAC1B,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GAAKF,EAAaC,eCdXG,MA5Bf,WAGC,IAAIP,EDRE,SAAAQ,GAA0C,IAApBC,EAAoBD,EAApBC,QAASC,EAAWF,EAAXE,QAErCA,EAAUA,GAAW,GAErB,IAAIC,EAAe,CAClBC,SAAS,EACTC,MAAO,KACPC,KAAM,KACNC,MAAO,EACPL,QAASM,KAAKC,UAAUP,IATuBQ,EAYtBC,qBAAWjB,EAASS,GAZES,EAAAf,OAAAgB,EAAA,EAAAhB,CAAAa,EAAA,GAY1CI,EAZ0CF,EAAA,GAYnCG,EAZmCH,EAAA,GA2ChD,OA7BAI,oBAAU,WAETD,EAAS,CAAEX,SAAS,EAAMC,MAAO,OACjCJ,EAAQO,KAAKS,MAAMH,EAAMZ,UACvBgB,KAAK,SAAAC,GAEL,IAAIC,EAAeD,EAASb,KAE5B,GAA4B,OAAxBc,EAAaC,OAAiB,CACjC,IAAIf,EAAOc,EAAad,KACpBC,EAAQa,EAAab,MAAQa,EAAab,MAAQD,EAAKgB,OAI3DP,EAAS,CAAEX,SAAS,EAAOE,KAAMA,EAAMC,MAAOA,SAE9CQ,EAAS,CAAEX,SAAS,EAAOC,MAAOe,EAAaf,MAAQe,EAAaf,MAAQ,gBAAiBC,KAAM,KAAMC,MAAO,MAGjHgB,MAAM,SAAAlB,GACNU,EAAS,CAAEX,SAAS,EAAOC,MAAOA,EAAMmB,QAASlB,KAAM,KAAMC,MAAO,OAIpE,CACFN,EACAa,EAAMZ,UAGAY,ECnCIW,CAAW,CACrBxB,QAASV,EAAIC,KACbU,QAASM,KAAKC,UAAU,CAAEjB,KAAM,WAGjC,OAAIA,EAAKY,QAEPsB,EAAAC,EAAAC,cAAA,0BAIEpC,EAAKa,MAEPqB,EAAAC,EAAAC,cAAA,qBAAcpC,EAAKa,QAGrBwB,QAAQC,IAAItC,GAGXkC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACdL,EAAAC,EAAAC,cAAA,UAAQG,UAAU,cAAlB,mBCzBHC,IAASC,OAAOP,EAAAC,EAAAC,cAACM,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.7e101331.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst http = axios.create({\n\tbaseURL: '//filemanager.com',\n\theaders: {\n\t}\n});\n\nexport const api = {\n\n\ttest() {\n\t\treturn http.get('/api/test');\n\t}\n\n};\n","import { useReducer, useEffect } from 'react';\n\nexport function useRequest({ request, payload }) {\n\n\tpayload = payload || {};\n\n\tlet initialState = {\n\t\tloading: false,\n\t\terror: null,\n\t\tdata: null,\n\t\ttotal: 0,\n\t\tpayload: JSON.stringify(payload)\n\t}\n\n\tlet [ state, setState ] = useReducer(reducer, initialState);\n\n\tuseEffect(() => {\n\n\t\tsetState({ loading: true, error: null });\n\t\trequest(JSON.parse(state.payload))\n\t\t\t.then(response => {\n\n\t\t\t\tlet responseData = response.data\n\n\t\t\t\tif (responseData.status === 'ok') {\n\t\t\t\t\tlet data = responseData.data;\n\t\t\t\t\tlet total = responseData.total ? responseData.total : data.length;\n\n\t\t\t\t\t// @todo: if we add schema, parse data here\n\n\t\t\t\t\tsetState({ loading: false, data: data, total: total });\n\t\t\t\t} else {\n\t\t\t\t\tsetState({ loading: false, error: responseData.error ? responseData.error : 'Unknown error', data: null, total: 0 });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsetState({ loading: false, error: error.message, data: null, total: 0 });\n\t\t\t});\n\n\t\t// @todo: I am not sure, should we return some function here or not?\n\t}, [\n\t\trequest,\n\t\tstate.payload\n\t]);\n\n\treturn state;\n}\n\nfunction reducer(oldState, newState) {\n\treturn { ...oldState, ...newState };\n}","import React from 'react';\nimport { DatePicker } from 'antd';\nimport { api } from './api/api';\nimport { useRequest } from './hooks/use-request';\nimport 'antd/dist/antd.css';\nimport './App.css';\n\nfunction App() {\n\n\t// example of hook using\n\tlet test = useRequest({\n\t\trequest: api.test,\n\t\tpayload: JSON.stringify({ test: 'test' })\n\t});\n\n\tif (test.loading) {\n\t\treturn (\n\t\t\t<div>Loading ...</div>\n\t\t);\n\t}\n\n\tif (test.error) {\n\t\treturn (\n\t\t\t<div>Error: { test.error }</div>\n\t\t);\n\t}\n\tconsole.log(test); // look at the fetched data\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t<header className='App-header'>Hello world!</header>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}