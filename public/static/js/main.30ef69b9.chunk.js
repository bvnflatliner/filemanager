(window.webpackJsonpfilemanager=window.webpackJsonpfilemanager||[]).push([[0],{207:function(e){e.exports=JSON.parse('{"en":{"translation":{"file_manager":"File Manager","type":"Type","name":"Name","size":"Size","modified":"Modified","permissions":"Permissions","owner":"Owner","group":"Group","dir":"dir","file":"file","upload":"Upload","upload_files":"Upload files","files_upload_success":"Files uploaded successfully","files_upload_fail":"Files uploading failed","ok":"Ok","cancel":"Cancel","new_folder":"New folder","new_folder_success":"Folder created successfully","new_folder_fail":"Folder creating failed","apply":"Apply","reset":"Reset","filter_name":"Filter Name","filter_size":"Filter Size","filter_modified":"Filter Modified","filter_permissions":"Filter Permissions","filter_owner":"Filter Owner","filter_group":"Filter Group","all_data":"Select All","no_data":"Unselect All","invert_data":"Invert Selection","unknown_file_format":"Unknown file format","unknown_error":"Unknown error","view_failed":"View failed","view_":"View ","binary_file":"Binary file","direct_link_for_":"Direct link for ","get_direct_link":"Get direct link","copy":"Copy","copy_destination":"Copy destination","copy_fail":"Copy failed","copied_successful":"Copied successful","copied":"Copied ","_files":" files","dirs_failed":"Dir(s) failed:","files_failed":"File(s) failed:"}}}')},208:function(e){e.exports=JSON.parse('{"uk":{"translation":{"file_manager":"\u0424\u0430\u0439\u043b \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","type":"\u0422\u0438\u043f","name":"\u041d\u0430\u0437\u0432\u0430","size":"\u0420\u043e\u0437\u043c\u0456\u0440","modified":"\u0417\u043c\u0456\u043d\u0435\u043d\u043e","permissions":"\u0414\u043e\u0437\u0432\u043e\u043b\u0438","owner":"\u0412\u043b\u0430\u0441\u043d\u0438\u043a","group":"\u0413\u0440\u0443\u043f\u0430","dir":"\u043f\u0430\u043f\u043a\u0430","file":"\u0444\u0430\u0439\u043b","upload":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438","upload_files":"\u0412\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u0430\u0439\u043b\u0438","files_upload_success":"\u0424\u0430\u0439\u043b\u0438 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","files_upload_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0432\u0438\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u0430\u0439\u043b\u0456\u0432","ok":"\u0413\u0430\u0440\u0430\u0437\u0434","cancel":"\u0412\u0456\u0434\u043c\u0456\u043d\u0430","new_folder":"\u041d\u043e\u0432\u0430 \u043f\u0430\u043f\u043a\u0430","new_folder_success":"\u041f\u0430\u043f\u043a\u0443 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e","new_folder_fail":"\u041d\u0435\u0432\u0434\u0430\u043b\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0430\u043f\u043a\u0438","apply":"\u0417\u0430\u0434\u0456\u044f\u0442\u0438","reset":"\u0421\u043a\u0438\u043d\u0443\u0442\u0438","filter_name":"\u0424\u0456\u043b\u044c\u0442\u0440 \u041d\u0430\u0437\u0432\u0438","filter_size":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0420\u043e\u0437\u043c\u0456\u0440\u0443","filter_modified":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0417\u043c\u0456\u043d\u0438","filter_permissions":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0414\u043e\u0437\u0432\u043e\u043b\u0456\u0432","filter_owner":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0412\u043b\u0430\u0441\u043d\u0438\u043a\u0430","filter_group":"\u0424\u0456\u043b\u044c\u0442\u0440 \u0413\u0440\u0443\u043f\u0438","all_data":"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0412\u0441\u0435","no_data":"\u0417\u043d\u044f\u0442\u0438 \u0412\u0438\u0431\u0456\u0440","invert_data":"\u0406\u043d\u0432\u0435\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0412\u0438\u0431\u0456\u0440","unknown_file_format":"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0443","unknown_error":"\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430","view_failed":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 \u043d\u0435\u0432\u0434\u0430\u0432\u0441\u044f","view_":"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u0434 ","binary_file":"\u0414\u0432\u0456\u0439\u043a\u043e\u0432\u0438\u0439 \u0444\u0430\u0439\u043b","direct_link_for_":"\u041f\u0440\u044f\u043c\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0434\u043b\u044f ","get_direct_link":"\u041f\u0440\u044f\u043c\u0435 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f","copy":"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438","copy_destination":"\u041a\u0443\u0434\u0438 \u043a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438","copy_fail":"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u043d\u043d\u044f \u043d\u0435\u0432\u0434\u0430\u043b\u043e\u0441\u044f","copied_successful":"\u0417\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e \u0432\u0434\u0430\u043b\u043e","copied":"\u0417\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e ","_files":" \u0444\u0430\u0439\u043b\u0456\u0432","dirs_failed":"\u041d\u0435\u0432\u0434\u0430\u043b\u0456 \u043f\u0430\u043f\u043a\u0438:","files_failed":"\u041d\u0435\u0432\u0434\u0430\u043b\u0456 \u0444\u0430\u0439\u043b\u0438:"}}}')},227:function(e,t,a){e.exports=a(448)},232:function(e,t,a){},317:function(e,t,a){},443:function(e,t,a){},448:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(9),i=a.n(l),o=(a(232),a(22)),c=a(449),s=a(15),u=a(460),f=a(461),d=a(222),m=a(223),p=(a(233),a(234),a(10)),y=a(12),g=a.n(y),v=a(207),E=a(208);var h=a(454),_=a(217),w=a(8),k=a(458),b=a(36),O=a(113),C=a(456),j=a(450),x=a(455),S=a(452),F=a(77);function z(e){var t=e.record,a=e.visible,n=e.x,l=e.y,i=e.onCopyClick;if(!a)return r.a.createElement("div",null);var o=r.a.createElement(F.a,null,"f"===t.type&&r.a.createElement(F.a.Item,{key:"getLink",onClick:function(){x.a.info({icon:null,title:p.a.t("direct_link_for_")+t.name,content:r.a.createElement(h.a,{value:t.direct_link,readOnly:!0})})}},r.a.createElement(w.a,{type:"link"}),p.a.t("get_direct_link")),r.a.createElement(F.a.Item,{key:"copy",onClick:function(){return i(t)}},r.a.createElement(w.a,{type:"copy"}),p.a.t("copy")),r.a.createElement(F.a.Item,{key:"3"},"3rd menu item"));return r.a.createElement("div",{style:{left:"".concat(n,"px"),top:"".concat(l,"px"),position:"absolute"}},o)}function D(e){var t=e.visible,a=e.onClickCopy;return t?r.a.createElement("div",null,r.a.createElement(b.a,{size:"small",onClick:a,title:p.a.t("copy")},r.a.createElement(w.a,{type:"copy"}))):r.a.createElement("div",null)}var R=a(451),L=a(213),K=a.n(L).a.create({baseURL:"//filemanager.com"});function P(e){var t=new URLSearchParams;return Object.keys(e).forEach(function(a){t.append(a,e[a])}),t}var I={tree:function(){return K.get("/api/tree")},dir:function(e){return K.post("/api/dir",P(e))},upload:function(e,t){var a=function(e){var t=new FormData;return e.forEach(function(e){t.append("files[]",e)}),t}(e);return a.append("path",t),K.post("/api/upload",a)},newfolder:function(e){return K.get("/api/newfolder",{params:e})},file:function(e){return K.get("/api/file",{params:e})},copy:function(e){return K.post("/api/copy",P(e))}},N=a(102),T=a(214);function U(e,t){Object(n.useEffect)(e,function(e){var t=Object(n.useRef)();return Object(T.isEqual)(e,t.current)||(t.current=e),t.current}(t))}function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var M=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach(function(t){Object(N.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{},t)};function V(e){var t=e.request,a=e.payload,r=Object(n.useReducer)(M,{loading:!0,error:null,data:null,total:0}),l=Object(o.a)(r,2),i=l[0],c=l[1];return U(function(){c({loading:!0,error:null}),t(a).then(function(e){var t=e.data;if("ok"===t.status){var a=t.data,n=t.total?t.total:a.length;c({loading:!1,data:a,total:n})}else c({loading:!1,error:t.msg?t.msg:"Unknown error",data:null,total:0})}).catch(function(e){c({loading:!1,error:e.message,data:null,total:0})})},[t,a]),i}function A(e){var t=e.visible,a=e.doCopy,l=e.hide,i=e.refresh,c=Object(n.useState)(""),s=Object(o.a)(c,2),u=s[0],f=s[1],d=V({request:I.tree,payload:{refresh:i}});if(d.loading)return null;if(d.error)return console.log("Error: ".concat(d.error)),null;return r.a.createElement(x.a,{title:p.a.t("copy_destination"),visible:t,onOk:function(){a(u),f(""),l()},onCancel:function(){f(""),l()}},r.a.createElement(R.a,{value:u,treeData:[d.data],onSelect:function(e){f(e)},treeDefaultExpandAll:!0,dropdownStyle:{height:300},style:{width:400}}))}a(317);var q=h.a.TextArea;function G(e){var t=e.path,a=e.refresh,l=e.onRefresh,i=e.onClick,c=e.onFooterMenu,s=Object(n.createRef)(),u=Object(n.createRef)(),f=Object(n.createRef)(),d=Object(n.createRef)(),m=Object(n.createRef)(),y=Object(n.useState)("gt"),v=Object(o.a)(y,2),E=v[0],F=v[1],R=Object(n.useState)("gt"),L=Object(o.a)(R,2),K=L[0],P=L[1],N=Object(n.useState)([]),T=Object(o.a)(N,2),U=T[0],B=T[1],M=Object(n.useState)({visible:!1,x:0,y:0}),G=Object(o.a)(M,2),J=G[0],H=G[1],W=Object(n.useState)(!1),$=Object(o.a)(W,2),X=$[0],Y=$[1],Q=Object(n.useState)(),Z=Object(o.a)(Q,2),ee=Z[0],te=Z[1],ae=V({request:I.dir,payload:{path:t,refresh:a}}),ne=function(){Y(!0)};if(Object(n.useEffect)(function(){B([])},[t]),Object(n.useEffect)(function(){c([r.a.createElement(D,{key:"footer",visible:U.length>0,onClickCopy:ne})])},[c,U]),ae.loading)return r.a.createElement(_.a,{size:"large",style:{position:"relative",top:"45%",left:"50%"}});if(ae.error)return console.log("Error: ".concat(ae.error)),r.a.createElement(w.a,{type:"warning",style:{fontSize:"1.6em",color:"red",position:"relative",top:25,left:25}});var re={selectedRowKeys:U,onChange:function(e){B(e)},hideDefaultSelections:!0,selections:[{key:"all-data",text:p.a.t("all_data"),onSelect:function(e){B(e)}},{key:"no-data",text:p.a.t("no_data"),onSelect:function(){B([])}},{key:"invert-data",text:p.a.t("invert_data"),onSelect:function(e){B(e.filter(function(e){return!U.includes(e)}))}}],columnWidth:50},le=[{title:p.a.t("type"),dataIndex:"type",key:"type",sorter:function(e,t){var a=["d","f"];return a.indexOf(e.type)-a.indexOf(t.type)},filters:[{text:p.a.t("dir"),value:"d"},{text:p.a.t("file"),value:"f"}],onFilter:function(e,t){return 0===t.type.indexOf(e)},filterMultiple:!1,render:function(e){var t="";switch(e){case"d":t=r.a.createElement(w.a,{type:"folder"});break;case"f":t=r.a.createElement(w.a,{type:"file"});break;default:t=r.a.createElement("span",null,"value")}return t},width:90},{title:p.a.t("name"),dataIndex:"name",key:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){s=e},placeholder:p.a.t("filter_name"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.name.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return s.select()})},width:230},{title:p.a.t("size"),dataIndex:"size",key:"size",sorter:function(e,t){return e.size-t.size},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(O.a.Group,{value:E,onChange:function(e){return F(e.target.value)},style:{marginBottom:8}},r.a.createElement(O.a,{value:"gt"},">"),r.a.createElement(O.a,{value:"lt"},"<")),r.a.createElement(C.a,{ref:function(e){u=e},placeholder:p.a.t("filter_size"),value:a[0],min:0,onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===E?t.size<e:t.size>e},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return u.focus()})},width:120},{title:p.a.t("modified"),dataIndex:"modified",key:"modified",sorter:function(e,t){return e.modified-t.modified},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(O.a.Group,{value:K,onChange:function(e){return P(e.target.value)},style:{marginBottom:8}},r.a.createElement(O.a,{value:"gt"},">"),r.a.createElement(O.a,{value:"lt"},"<")),r.a.createElement(j.a,{showTime:!0,placeholder:p.a.t("filter_modified"),value:a[0],onPressEnter:n,onChange:function(e){return t(e?[e]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return"lt"===K?t.modified<e.unix():t.modified>e.unix()},render:function(e){return g.a.unix(e).format("LLL")},width:240},{title:p.a.t("permissions"),dataIndex:"permissions",key:"permissions",sorter:function(e,t){return e.permissions.localeCompare(t.permissions)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){f=e},placeholder:p.a.t("filter_permissions"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.permissions.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return f.select()})},width:140},{title:p.a.t("owner"),dataIndex:"owner",key:"owner",sorter:function(e,t){return e.owner.localeCompare(t.owner)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){d=e},placeholder:p.a.t("filter_owner"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.owner.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return d.select()})},width:140},{title:p.a.t("group"),dataIndex:"group",key:"group",sorter:function(e,t){return e.group.localeCompare(t.group)},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,l=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(h.a,{ref:function(e){m=e},placeholder:p.a.t("filter_group"),value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:n,style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(b.a,{type:"primary",onClick:n,icon:"filter",size:"small",style:{width:90,marginRight:8}},p.a.t("apply")),r.a.createElement(b.a,{onClick:l,size:"small",style:{width:90}},p.a.t("reset")))},onFilter:function(e,t){return t.group.toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return m.select()})},width:140}],ie=J.record,oe=J.visible,ce=J.x,se=J.y;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{dataSource:ae.data,columns:le,rowKey:"name",scroll:{y:"calc(100vh - 240px)",x:!0},size:"middle",rowSelection:re,onRow:function(e){return{onClick:function(a){if(!a.target.classList.contains("ant-checkbox-input"))if("d"!==e.type){var n;switch(e.media_type){case"text":I.file({path:t,name:e.name}).then(function(t){var a=t.data;if("ok"===a.status){var l=a.data;n=r.a.createElement(q,{autoSize:{minRows:4,maxRows:16},value:l.content}),x.a.info({icon:null,width:"80%",title:p.a.t("view_")+e.name,content:n})}});break;case"image":n=r.a.createElement("div",null,r.a.createElement("img",{src:e.direct_link,alt:e.name,style:{maxWidth:"100%",maxHeight:"100%"}}));break;case"audio":n=r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:e.direct_link}),r.a.createElement("track",{kind:"captions"}));break;case"video":n=r.a.createElement("video",{style:{maxWidth:"100%",maxHeight:"100%"},controls:!0},r.a.createElement("source",{src:e.direct_link}),r.a.createElement("track",{kind:"captions"}));break;case"binary":n=r.a.createElement(b.a,{type:"dashed",block:!0},p.a.t("binary_file"));break;default:n=r.a.createElement(b.a,{type:"dashed",block:!0},p.a.t("unknown_file_format"))}n&&x.a.info({icon:null,width:"80%",title:p.a.t("view_")+e.name,content:n})}else i("".concat(t?"/".concat(t):"","/").concat(e.name,"/"))},onContextMenu:function(t){t.preventDefault(),J.visible||document.addEventListener("click",function e(){H({visible:!1,x:0,y:0}),document.removeEventListener("click",e)}),H({record:e,visible:!0,x:t.clientX,y:t.clientY})}}}}),r.a.createElement(z,{record:ie,visible:oe,x:ce,y:se,onCopyClick:function(e){te(e.name),Y(!0)}}),r.a.createElement(A,{visible:X,doCopy:function(e){var a=ee?[ee]:U;return I.copy({path:t,destination:e,files:a}).then(function(e){var t=e.data;if("ok"===t.status){var a=t.data,n=a.successful,i=a.errors.dirs.map(function(e){return r.a.createElement("li",{key:e},e)}),o=a.errors.files.map(function(e){return r.a.createElement("li",{key:e},e)});k.a.success({message:p.a.t("copied_successful"),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("copied")+n+p.a.t("_files")),i.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("dirs_failed")),r.a.createElement("ul",null,i)),o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,p.a.t("files_failed")),r.a.createElement("ul",null,o)))}),l(g()().unix())}else{var c=t.msg||p.a.t("unknown_error");k.a.error({message:p.a.t("copy_fail"),description:c})}}).catch(function(e){k.a.error({message:p.a.t("copy_fail"),description:e.message})}),te(),!0},hide:function(){te(),Y(!1)},refresh:a}))}var J=a(457);function H(e){var t=e.onSelect,a=e.selectedKeys,n=e.refresh,l=V({request:I.tree,payload:{refresh:n}});return l.loading?r.a.createElement(_.a,{style:{position:"relative",top:"40%",left:"45%"}}):l.error?(console.log("Error: ".concat(l.error)),r.a.createElement(w.a,{type:"warning",style:{fontSize:"1.4em",color:"red",position:"relative",top:15,left:15}})):r.a.createElement(J.a,{treeData:[l.data],onSelect:t,selectedKeys:a,defaultExpandAll:!0})}var W=a(459);function $(e){var t=e.path,a=e.onClick,n=t.split("/");n.unshift("");return r.a.createElement(W.a,{className:"breadcrumb"},function(e){var t="";return e.map(function(e,n){var l=t+="".concat(e,"/");return 0===n?r.a.createElement(W.a.Item,{key:t,onClick:function(){return a(l)}},r.a.createElement(w.a,{type:"home"})):r.a.createElement(W.a.Item,{key:t,onClick:function(){return a(l)}},e)})}(n))}var X=a(112),Y=a(453);function Q(e){var t=e.path,a=e.onUploadFinished,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)([]),f=Object(o.a)(u,2),d=f[0],m=f[1],y=Object(n.useState)(!1),g=Object(o.a)(y,2),v=g[0],E=g[1],h=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"primary",icon:"upload",onClick:function(){s(!0)}},p.a.t("upload")),r.a.createElement(x.a,{title:p.a.t("upload_files"),visible:c,onOk:function(){return 0!==d.length&&(E(!0),I.upload(d,t).then(function(e){var t=e.data;if("ok"===t.status){var n=t.data,l=n.uploaded.map(function(e){return r.a.createElement("li",{key:e.name},e.name)});0!==l.length&&k.a.success({message:p.a.t("files_upload_success"),description:r.a.createElement("ul",null,l)});var i=n.failed.map(function(e){return r.a.createElement("li",{key:e.name},"".concat(e.name,": ").concat(e.errors[0].message))});0!==i.length&&k.a.error({message:p.a.t("files_upload_fail"),description:r.a.createElement("ul",null,i)}),a(),m([]),h()}else{var o=t.msg||p.a.t("unknown_error");k.a.error({message:p.a.t("files_upload_fail"),description:o})}E(!1)}).catch(function(e){k.a.error({message:p.a.t("files_upload_fail"),description:e.message}),E(!1)}),!0)},onCancel:function(){m([]),h()},okText:v?r.a.createElement(w.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(Y.a,{fileList:d,beforeUpload:function(e){return m([].concat(Object(X.a)(d),[e])),!1},onRemove:function(e){var t=d.indexOf(e),a=d.slice();a.splice(t,1),m(a)}},r.a.createElement(b.a,null,r.a.createElement(w.a,{type:"upload"}),"Upload"))))}function Z(e){var t=e.path,a=e.onFolderCreated,l=Object(n.useState)(!1),i=Object(o.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(""),f=Object(o.a)(u,2),d=f[0],m=f[1],y=Object(n.useState)(!1),g=Object(o.a)(y,2),v=g[0],E=g[1],_=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"primary",icon:"folder-add",onClick:function(){s(!0)}},p.a.t("new_folder")),r.a.createElement(x.a,{title:p.a.t("new_folder"),visible:c,onOk:function(){return""!==d&&(E(!0),I.newfolder({path:t,folder:d}).then(function(e){var t=e.data;if("ok"===t.status){var n=t.data;k.a.success({message:p.a.t("new_folder_success"),description:r.a.createElement("p",null,n.folder)}),a(),m(""),_()}else{var l=t.msg||p.a.t("unknown_error");k.a.error({message:p.a.t("new_folder_fail"),description:l})}E(!1)}).catch(function(e){k.a.error({message:p.a.t("new_folder_fail"),description:e.message}),E(!1)}),!0)},onCancel:function(){m(""),_()},okText:v?r.a.createElement(w.a,{type:"loading"}):p.a.t("ok"),cancelText:p.a.t("cancel")},r.a.createElement(h.a,{placeholder:"Folder name",value:d,onChange:function(e){m(e.target.value)}})))}a(443);var ee=c.a.Header,te=c.a.Footer,ae=c.a.Sider,ne=c.a.Content;var re=function(){var e,t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],i=a[1],y=Object(n.useState)("/"),h=Object(o.a)(y,2),_=h[0],w=h[1],k=Object(n.useState)(g()().unix()),b=Object(o.a)(k,2),O=b[0],C=b[1],j=Object(n.useState)([]),x=Object(o.a)(j,2),S=x[0],F=x[1],z=function(e,t){var a=window.location.pathname.slice(1,3);return void 0===e[a]&&(a=t),p.a.init({lng:a,resources:e[a]}),a}({en:v,uk:E},"en");switch(g.a.locale(z),z){case"uk":e=m.a;break;case"en":default:e=d.a}var D=function(e){w(e);var t=e.replace(/^\/+|\/+$/g,"");i(t)},R=Object(n.useCallback)(function(e){F(e)},[]);return r.a.createElement(s.a,{locale:e},r.a.createElement("div",{className:"app"},r.a.createElement(c.a,{className:"layout"},r.a.createElement(ee,{className:"header"},r.a.createElement(u.a,null,r.a.createElement(f.a,{span:4},p.a.t("file_manager")),r.a.createElement(f.a,{span:14},r.a.createElement($,{path:l,onClick:D})),r.a.createElement(f.a,{className:"pull-right",span:3},r.a.createElement(Q,{path:l,onUploadFinished:function(){C(g()().unix())}})),r.a.createElement(f.a,{className:"pull-right",span:3},r.a.createElement(Z,{path:l,onFolderCreated:function(){C(g()().unix())}})))),r.a.createElement(c.a,null,r.a.createElement(ae,{className:"sider"},r.a.createElement(H,{onSelect:function(e){var t=e.shift();w(t),t=t.replace(/^\/+|\/+$/g,""),i(t)},selectedKeys:[_],refresh:O})),r.a.createElement(c.a,null,r.a.createElement(ne,{className:"content"},r.a.createElement(G,{path:l,refresh:O,onRefresh:C,onClick:D,onFooterMenu:R})),r.a.createElement(te,{className:"footer"},S))))))};i.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.30ef69b9.chunk.js.map